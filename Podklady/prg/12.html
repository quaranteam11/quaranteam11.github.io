<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Untitled</title>
    <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/css/Article-Clean.css">
    <link rel="stylesheet" href="../../assets/css/Article-List.css">
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-lg bg-dark py-lg-4" id="mainNav" style="color: rgb(41,78,115);background: rgb(35,85,136);padding: 15px 10px;">
        <div class="container"><a class="navbar-brand text-uppercase d-lg-none text-expanded" href="#">kvíz it4a</a><button data-toggle="collapse" data-target="#navbarResponsive" class="navbar-toggler" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive" style="color: var(--cyan);">
                <ul class="nav navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" href="../../index.html">úvod</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../podklady.html">podklady</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../kviz.html">kvíz</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <h1 class="text-center text-white d-none d-lg-block site-heading"><span class="text-primary site-heading-upper mb-3">tým quaranteam</span><span class="site-heading-lower">PRG 12. otázka</span></h1>
    <div class="article-clean">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 col-xl-8 offset-lg-1 offset-xl-2">
                    <div class="intro">
                        <h1 class="text-center">Vyjímky a masky</h1>
                    </div>
                    <div class="text">
                        <p><br><strong><span style="text-decoration: underline;">VÝJIMKY</span></strong><br><br>Chyby, na které upozorní překladač,<br>nejsou jediné, které mohou v&nbsp;programu nastat. Daleko horší<br>jsou chyby, které překladač nemůže odhalit, protože vznikají<br>až za běhu programu a kterým říkáme run-time chyby (nebo běhové<br>chyby). V&nbsp;okamžiku, kdy tato chyba vznikne, přeruší běh<br>programu a dojde ke ztrátě dat. Jakmile tušíme, že by se v&nbsp;daném<br>úseku programového kódu mohla taková chyba vyskytnout, je nutné<br>všechny možnosti správně ošetřit.<br><br>Př. procedura bez jakéhokoliv ošetření chyb:<br><br> var a, b, x: integer;<br><br> begin<br><br> a:=0; b:=0;<br><br> x:=a div b; //zde určitě<br>vznikne run-time chyba<br><br> ShowMessage (IntToStr(x));<br><br> end.<br><br><br><br>Př. tradiční ošetření chyb:<br><br> var a, b, x: integer;<br><br> begin<br><br> a:=0; b:=0;<br><br> if b&lt;&gt;0<br>then<br><br> begin<br><br> x:=a div b;<br><br> ShowMessage (IntToStr(x));<br><br> end else MessageDlg(´Dělení<br>nulou!´, mtError, [mbOk],<br>0);<br><br> end.<br><br><br><br><strong><span style="text-decoration: underline;">Mechanismus výjimek</span></strong><br><br>Mechanismus výjimek je postaven na<br>čtyřech klíčových slovech:<br><br> <span style="text-decoration: underline;">try –</span><br><span style="text-decoration: underline;"> označuje začátek tzv. chráněného bloku, tj. bloku, ve kterém</span><br><span style="text-decoration: underline;"> se očekává vznik výjimky a který se má zkusit provést</span><br> except – označuje konec<br> chráněného bloku a uvádí příkazy pro obsluhu výjimek:<br><br> finally – blok je proveden<br> vždy, ať k&nbsp;výjimce dojde nebo ne. Používá se např.<br> k&nbsp;uvolnění zdrojů alokovaných v&nbsp;bloku try předtím,<br> než je obsloužena výjimka.<br> raise – příkaz používaný<br> k&nbsp;ručnímu vyvolání výjimky<br><br>Př. ošetření chyb pomocí mechanismu výjimek:<br><br> var a, b, x: integer;<br> begin<br> a:=0; b:=0;<br> try<br> x:=a div b;<br> Form1.Caption:=´Nazdar´;<br> ShowMessage (IntToStr(x));<br> except<br> on EDivByZero do<br>MessageDlg(´Dělení nulou!´, mtError, [mbOk],<br>0);<br> end;<br>end.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Dojde-li k&nbsp;výjimce,<br>hledá se tzv. handler (ovladač výjimky), který výjimku ošetří.<br>Po ošetření výjimky program pokračuje kódem následujícím po<br>kódu handleru, a nikoliv kódem následujícím po kódu, který<br>způsobil výjimku. Proto pokud způsobí výjimku např. první<br>řádek v&nbsp;sekci try, už se neprovedou zbývající řádky<br>v&nbsp;této sekci.<br>Pokud chceme provést<br>nějakou činnost v&nbsp;případě výjimky i v&nbsp;případě<br>bezchybného provedení sekce try, použijeme sekci finally.<br><br><br>Př. použití bloku finally:<br><br> var a, b, x: integer;<br> begin<br> a:=0; b:=0;<br> try<br> x:=a div b;<br> ShowMessage (IntToStr(x));<br> finally<br> Form1.Caption:=´Nazdar´;<br> end; <br> end.<br><br>Při použití sekce<br>finally místo sekce except zase není ošetřena vlastní výjimka.<br>Takže nezbývá nic jiného než zkombinovat finally a except blok.<br>Jedná se vlastně o zanoření dvou bloků.<br><br>Př. kombinace sekcí finally a except:<br><br> var a, b, x: integer;<br> begin<br> a:=0; b:=0;<br> try<br> try<br> x:=a div b;<br> ShowMessage (IntToStr(x));<br> except<br> on EDivByZero do<br>MessageDlg(´Dělení nulou!´, mtError, [mbOk],<br>0);<br> end;<br> finally<br> Form1.Caption:=´Nazdar´;<br> end; <br> end.<br><br><strong><span style="text-decoration: underline;">Blok except</span></strong><br><br><br><br><br>Přesná syntaxe<br>bloku except:<br> try<br> <em>nebezpečné</em><br><em>příkazy</em><br> except<br> on <em>typ očekávané</em><br><em>výjimky</em> do <em>ošetření výjimky</em><br> on <em>typ očekávané</em><br><em>výjimky</em> do <em>ošetření výjimky</em><br> .....<br> else <em>ošetření</em><br><em>jiné (neočekávané) výjimky</em><br> end;<br><br>V sekci else je možné<br>ošetřit jakoukoliv výjimku, i tu, kterou jsme neočekávali a tedy<br>nezařadili do výčtu on … do. Zpravidla je ale lepší nechat<br>ošetření neznámé výjimky na implicitním handleru Delphi. Platí<br>pravidlo, že buď výjimku identifikujeme a ošetříme, nebo ji<br>necháme bez povšimnutí ošetřit Delphi.<br>Výjimka může být<br>ošetřena v sekci do i více než jedním příkazem, tyto příkazy<br>jsou pak standardně uvozeny klíčovými slovy begin a end.<br><br><strong><span style="text-decoration: underline;">Některé typy výjimek</span></strong><br><br> <strong>Typ výjimky</strong><br>popis chyby<br> <br><br> EAbort<br> tzv. tichá výjimka, která nevypisuje chybové hlášení a o<br> jejíž existenci se uživatel nedozví<br><br> EAccessViolation<br> nepovolený přístup do paměti<br><br> EConvertError<br> chyba při provádění konverze (např. při použití funkce<br> StrToInt, StrToFloat)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EDivByZero<br>celočíselné dělení nulou<br><br> ERangeError<br> celočíselná hodnota mimo přípustný rozsah<br><br> EIntOverflow<br> přetečení celočíselné operace, výsledek se nevejde do<br> alokované oblasti<br><br> EInOutError<br> vstupně/výstupní chyba, všeobecná výjimka pro chyby souborů<br><br> EInvalidPointer<br> neplatná operace s&nbsp;ukazateli<br><br> EOutOfMemory<br> neúspěšný pokus o alokaci paměti<br><br> EWin23Error<br> třída pro chyby Windows<br><br> EZeroDivide<br> dělení nulou v&nbsp;pohyblivé řádové čárce (reálných<br> čísel)<br><br> EOverflow<br> přetečení v&nbsp;pohyblivé řádové čárce<br><br> EUnderFlow<br> podtečení v&nbsp;pohyblivé řádové čárce<br><br> EInvalidOp<br> nedefinovaná instrukce v&nbsp;aritmetice reálných čísel<br> <br> <br><strong><span style="text-decoration: underline;">MASKEDIT – EDITAČNÍ</span></strong><br><strong><span style="text-decoration: underline;">POLE S MASKOU</span></strong><br><br>Slouží ke&nbsp;vstupu<br>jedné řádky textu s&nbsp;kontrolou vstupních dat. Lze využít i<br>pro formátování výstupu (zobrazení v&nbsp;požadovaném<br>formátu). Základem je tzv. maska, která obsahuje předpis, jak<br>data mají vypadat.<br><br><strong><span style="text-decoration: underline;">Vlastnosti</span></strong><br><br> <strong>Vlastnost</strong><br>popis a použití<br><br> EditMask<br> slouží k zadání masky představující omezení vstupních dat<br> pomocí Input Mask Editoru<br><br> Text<br> vlastní text (zadaný uživatelem)<br><br> EditText<br> maskou formátovaný text tak, jak jej vidí uživatel<br><br> MaxLength<br> maximální délka textu; automaticky se upravuje podle nastavení<br> masky<br><br> IsMasked<br> umožňuje testovat, zda maska byla definována<br><br>Ostatní vlastnosti a události jsou<br>stejné jako u komponenty Edit.<br><br>Masku obvykle<br>nevpisujeme přímo jako řetězec do vlastnosti EditMask, ale<br>vytváříme pomocí Input Mask Editoru vyvolaného přes tuto<br>vlastnost. Maska se skládá ze tří částí oddělených<br>středníkem. První část obsahuje samotnou masku skládající se<br>ze symbolů pro tvorbu masek. Druhá část určuje, zda se znaky<br>masky budou ukládat společně se zadanými. Toto nastavení se týká<br>pouze vlastnosti Text, neboť u vlastnosti EditText jsou znaky masky<br>ukládány vždy. Pokud chceme ukládat pouze znaky zadané<br>uživatelem, vložíme hodnotu 0, pokud i znaky masky, vložíme 1.<br>Tuto hodnotu můžeme nastavit i pomocí položky Save Literal<br>Characters v&nbsp;Input Mask Editoru. Třetí část masky říká,<br>který znak bude v&nbsp;MaskEditu zobrazován jako místo určené<br>pro vstup (standardně podtržítko). Znak je možné zadat i do<br>položky Charakter for Blanks. Položka Test Input zobrazuje, jak<br>bude editační pole vidět uživatel. Input Mask Editor obsahuje i<br>některé jednoduché předdefinované masky v&nbsp;seznamu Sample<br>Masks, ty ale většinou neodpovídají českým národním<br>zvyklostem.<br><br><img src="../../assets/img/32.png"><br><br>Pokud uživatel<br>opustí editační pole v&nbsp;okamžiku, kdy zadání neodpovídá<br>masce, je generována výjimka EDBEditError. Stiskem klávesy Esc je<br>možné zrušit nesprávné zadání a údaje opravit či doplnit.<br><br><br>Příklady:<br><img src="../../assets/img/31.png"><br></p>
                        <figure></figure>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>